{"ast":null,"code":"var _jsxFileName = \"/Users/vaibhavkumar/Documents/attendance_system_new/frontend/src/components/qr/QRScanner.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport jsQR from 'jsqr';\nimport { qrAPI } from '../../utils/api';\nimport { Camera, X, CheckCircle } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QRScanner = ({\n  onScanSuccess,\n  onClose\n}) => {\n  _s();\n  const [scanning, setScanning] = useState(false);\n  const [scanResult, setScanResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const scannerRef = useRef(null);\n  const scannerElementRef = useRef(null);\n  useEffect(() => {\n    return () => {\n      // Cleanup scanner on unmount\n      if (scannerRef.current) {\n        scannerRef.current.clear();\n      }\n    };\n  }, []);\n  const startScanning = () => {\n    if (!scannerElementRef.current) return;\n    setScanning(true);\n    setScanResult(null);\n\n    // Simple camera access for QR scanning\n    navigator.mediaDevices.getUserMedia({\n      video: {\n        facingMode: 'environment'\n      }\n    }).then(stream => {\n      var _document$getElementB;\n      const video = document.createElement('video');\n      const canvas = document.createElement('canvas');\n      const context = canvas.getContext('2d');\n      video.srcObject = stream;\n      video.play();\n      const scanFrame = () => {\n        if (video.readyState === video.HAVE_ENOUGH_DATA) {\n          canvas.height = video.videoHeight;\n          canvas.width = video.videoWidth;\n          context === null || context === void 0 ? void 0 : context.drawImage(video, 0, 0, canvas.width, canvas.height);\n          const imageData = context === null || context === void 0 ? void 0 : context.getImageData(0, 0, canvas.width, canvas.height);\n          if (imageData) {\n            const code = jsQR(imageData.data, imageData.width, imageData.height);\n            if (code) {\n              setLoading(true);\n              qrAPI.scanQR(code.data).then(response => {\n                setScanResult(response.data);\n                toast.success(`Attendance marked as ${response.data.status}`);\n                if (onScanSuccess) onScanSuccess(response.data);\n                stream.getTracks().forEach(track => track.stop());\n                setScanning(false);\n              }).catch(error => {\n                var _error$response, _error$response$data;\n                toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to process QR code');\n              }).finally(() => setLoading(false));\n              return;\n            }\n          }\n        }\n        if (scanning) requestAnimationFrame(scanFrame);\n      };\n      (_document$getElementB = document.getElementById('qr-scanner')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.appendChild(video);\n      scanFrame();\n    }).catch(error => {\n      toast.error('Camera access denied');\n      console.error('Camera error:', error);\n    });\n\n    // Scanner reference not needed with jsQR\n  };\n  const stopScanning = () => {\n    if (scannerRef.current) {\n      scannerRef.current.clear();\n      scannerRef.current = null;\n    }\n    setScanning(false);\n  };\n  const resetScanner = () => {\n    setScanResult(null);\n    stopScanning();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 max-w-md mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 dark:text-white\",\n        children: \"QR Code Scanner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), onClose && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), !scanning && !scanResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mx-auto w-24 h-24 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-4\",\n        children: /*#__PURE__*/_jsxDEV(Camera, {\n          className: \"w-12 h-12 text-blue-600 dark:text-blue-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 dark:text-gray-400 mb-6\",\n        children: \"Click the button below to start scanning QR codes for attendance marking.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startScanning,\n        className: \"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors\",\n        children: \"Start Scanning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this), scanning && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"qr-scanner\",\n        ref: scannerElementRef,\n        className: \"w-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-blue-600 dark:text-blue-400\",\n          children: \"Processing QR code...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: stopScanning,\n          className: \"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition-colors\",\n          children: \"Stop Scanning\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }, this), scanResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"w-6 h-6 text-green-600 dark:text-green-400 mr-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium text-green-800 dark:text-green-300\",\n            children: \"Attendance Marked Successfully!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-green-600 dark:text-green-400\",\n            children: [scanResult.student_name, \" - \", scanResult.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-gray-900 dark:text-white mb-2\",\n          children: \"Scan Details:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-1 text-sm text-gray-600 dark:text-gray-400\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: \"Student:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 18\n            }, this), \" \", scanResult.student_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: \"Student ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 18\n            }, this), \" \", scanResult.student_id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `ml-1 px-2 py-1 rounded-full text-xs font-medium ${scanResult.status === 'present' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300' : scanResult.status === 'late' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300' : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300'}`,\n              children: scanResult.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: \"Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 18\n            }, this), \" \", new Date().toLocaleTimeString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetScanner,\n        className: \"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors\",\n        children: \"Scan Another QR Code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n_s(QRScanner, \"kyblbFzSLrtNWRcFKmsM9KndR1Q=\");\n_c = QRScanner;\nexport default QRScanner;\nvar _c;\n$RefreshReg$(_c, \"QRScanner\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsQR","qrAPI","Camera","X","CheckCircle","toast","jsxDEV","_jsxDEV","QRScanner","onScanSuccess","onClose","_s","scanning","setScanning","scanResult","setScanResult","loading","setLoading","scannerRef","scannerElementRef","current","clear","startScanning","navigator","mediaDevices","getUserMedia","video","facingMode","then","stream","_document$getElementB","document","createElement","canvas","context","getContext","srcObject","play","scanFrame","readyState","HAVE_ENOUGH_DATA","height","videoHeight","width","videoWidth","drawImage","imageData","getImageData","code","data","scanQR","response","success","status","getTracks","forEach","track","stop","catch","error","_error$response","_error$response$data","finally","requestAnimationFrame","getElementById","appendChild","console","stopScanning","resetScanner","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","id","ref","student_name","student_id","Date","toLocaleTimeString","_c","$RefreshReg$"],"sources":["/Users/vaibhavkumar/Documents/attendance_system_new/frontend/src/components/qr/QRScanner.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport jsQR from 'jsqr';\nimport { qrAPI } from '../../utils/api';\nimport { Camera, X, CheckCircle, AlertCircle } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\ninterface QRScannerProps {\n  onScanSuccess?: (result: any) => void;\n  onClose?: () => void;\n}\n\nconst QRScanner: React.FC<QRScannerProps> = ({ onScanSuccess, onClose }) => {\n  const [scanning, setScanning] = useState(false);\n  const [scanResult, setScanResult] = useState<any>(null);\n  const [loading, setLoading] = useState(false);\n  const scannerRef = useRef<Html5QrcodeScanner | null>(null);\n  const scannerElementRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    return () => {\n      // Cleanup scanner on unmount\n      if (scannerRef.current) {\n        scannerRef.current.clear();\n      }\n    };\n  }, []);\n\n  const startScanning = () => {\n    if (!scannerElementRef.current) return;\n\n    setScanning(true);\n    setScanResult(null);\n\n    // Simple camera access for QR scanning\n    navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })\n      .then(stream => {\n        const video = document.createElement('video');\n        const canvas = document.createElement('canvas');\n        const context = canvas.getContext('2d');\n        \n        video.srcObject = stream;\n        video.play();\n        \n        const scanFrame = () => {\n          if (video.readyState === video.HAVE_ENOUGH_DATA) {\n            canvas.height = video.videoHeight;\n            canvas.width = video.videoWidth;\n            context?.drawImage(video, 0, 0, canvas.width, canvas.height);\n            \n            const imageData = context?.getImageData(0, 0, canvas.width, canvas.height);\n            if (imageData) {\n              const code = jsQR(imageData.data, imageData.width, imageData.height);\n              if (code) {\n                setLoading(true);\n                qrAPI.scanQR(code.data)\n                  .then(response => {\n                    setScanResult(response.data);\n                    toast.success(`Attendance marked as ${response.data.status}`);\n                    if (onScanSuccess) onScanSuccess(response.data);\n                    stream.getTracks().forEach(track => track.stop());\n                    setScanning(false);\n                  })\n                  .catch(error => {\n                    toast.error(error.response?.data?.error || 'Failed to process QR code');\n                  })\n                  .finally(() => setLoading(false));\n                return;\n              }\n            }\n          }\n          if (scanning) requestAnimationFrame(scanFrame);\n        };\n        \n        document.getElementById('qr-scanner')?.appendChild(video);\n        scanFrame();\n      })\n      .catch(error => {\n        toast.error('Camera access denied');\n        console.error('Camera error:', error);\n      });\n\n    // Scanner reference not needed with jsQR\n  };\n\n  const stopScanning = () => {\n    if (scannerRef.current) {\n      scannerRef.current.clear();\n      scannerRef.current = null;\n    }\n    setScanning(false);\n  };\n\n  const resetScanner = () => {\n    setScanResult(null);\n    stopScanning();\n  };\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 max-w-md mx-auto\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n          QR Code Scanner\n        </h3>\n        {onClose && (\n          <button\n            onClick={onClose}\n            className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\"\n          >\n            <X size={20} />\n          </button>\n        )}\n      </div>\n\n      {!scanning && !scanResult && (\n        <div className=\"text-center\">\n          <div className=\"mx-auto w-24 h-24 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-4\">\n            <Camera className=\"w-12 h-12 text-blue-600 dark:text-blue-400\" />\n          </div>\n          <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n            Click the button below to start scanning QR codes for attendance marking.\n          </p>\n          <button\n            onClick={startScanning}\n            className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors\"\n          >\n            Start Scanning\n          </button>\n        </div>\n      )}\n\n      {scanning && (\n        <div className=\"space-y-4\">\n          <div \n            id=\"qr-scanner\" \n            ref={scannerElementRef}\n            className=\"w-full\"\n          />\n          \n          {loading && (\n            <div className=\"flex items-center justify-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n              <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3\"></div>\n              <span className=\"text-blue-600 dark:text-blue-400\">Processing QR code...</span>\n            </div>\n          )}\n          \n          <div className=\"flex space-x-3\">\n            <button\n              onClick={stopScanning}\n              className=\"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition-colors\"\n            >\n              Stop Scanning\n            </button>\n          </div>\n        </div>\n      )}\n\n      {scanResult && (\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center justify-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg\">\n            <CheckCircle className=\"w-6 h-6 text-green-600 dark:text-green-400 mr-3\" />\n            <div className=\"text-center\">\n              <p className=\"font-medium text-green-800 dark:text-green-300\">\n                Attendance Marked Successfully!\n              </p>\n              <p className=\"text-sm text-green-600 dark:text-green-400\">\n                {scanResult.student_name} - {scanResult.status}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg\">\n            <h4 className=\"font-medium text-gray-900 dark:text-white mb-2\">Scan Details:</h4>\n            <div className=\"space-y-1 text-sm text-gray-600 dark:text-gray-400\">\n              <p><span className=\"font-medium\">Student:</span> {scanResult.student_name}</p>\n              <p><span className=\"font-medium\">Student ID:</span> {scanResult.student_id}</p>\n              <p><span className=\"font-medium\">Status:</span> \n                <span className={`ml-1 px-2 py-1 rounded-full text-xs font-medium ${\n                  scanResult.status === 'present' \n                    ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300'\n                    : scanResult.status === 'late'\n                    ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300'\n                    : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300'\n                }`}>\n                  {scanResult.status}\n                </span>\n              </p>\n              <p><span className=\"font-medium\">Time:</span> {new Date().toLocaleTimeString()}</p>\n            </div>\n          </div>\n\n          <button\n            onClick={resetScanner}\n            className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors\"\n          >\n            Scan Another QR Code\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default QRScanner;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}